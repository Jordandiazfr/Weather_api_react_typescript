{"version":3,"sources":["components/DailyWeather.tsx","components/CurrentWeather.tsx","components/ChangeCityFormComponent.tsx","components/Header.tsx","components/Geoloc.tsx","App.tsx","index.tsx"],"names":["DailyWeather","source","datetime","app_max_temp","app_min_temp","weather","icon","dateTime","Date","className","getDay","src","alt","CurrentWeather","todaySource","date","toDateString","data","temp","style","flexDirection","city_name","country_code","description","ChangeCityFormComponent","handleSubmit","useState","inputHandler","setInputHandler","type","onChange","e","target","value","onClick","title","Header","process","Geoloc","action","apikey","App","setWeather","loading","setLoading","loadGeoloc","setloadGeoloc","lat","lon","coords","setCoords","city","setCity","coordUrl","cityRequestUrl","a","navigator","geolocation","getCurrentPosition","latitude","longitude","getData","mode","queryUrl","axios","get","response","status","alert","handleGeolocation","console","log","map","distData","id","requestCity","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.84e6726c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../App.css\";\r\nexport default function DailyWeather({ source }: any) {\r\n\r\n  const iconUrl = \"https://www.weatherbit.io/static/img/icons/\";\r\n\r\n  const index = {\r\n    datetime: 400,\r\n    app_max_temp: \"max\",\r\n    app_min_temp: \"min\",\r\n    weather: {icon:\"c01d\"}\r\n  }\r\n\r\n    if (source === 0 ) {\r\n      source = index\r\n    }\r\n\r\n    var dateTime = new Date(source.datetime)\r\n    const days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Day\"];\r\n\r\n  return (\r\n    <div className=\"daily-component\">\r\n    <p className=\"temp-tex\">{source.datetime === 400? \"Day\": days[dateTime.getDay()]}</p>\r\n      <p className=\"temp-tex\">{source.app_max_temp} °</p>\r\n      <img\r\n        src={iconUrl + source.weather.icon + \".png\"}\r\n        className=\"daily-icon\" alt=\"Icon for the weather\"\r\n      />\r\n        <p className=\"temp-tex\">{source.app_min_temp} °</p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function CurrentWeather({ todaySource }: any) {\r\n  let date = new Date();\r\n  const iconUrl = \"https://www.weatherbit.io/static/img/icons/\";\r\n  return (\r\n    <div>\r\n\r\n      <h3> {date.toDateString()} </h3>\r\n  \r\n        <div className=\"important-info\">\r\n \r\n          <p className=\"current-temperature\"> \r\n           {todaySource.data[0].temp} \r\n           </p>\r\n           <span style={{flexDirection: 'row'}}> \r\n                 {/* CITY NAME */}\r\n           <h4> {todaySource.city_name + \", \" + todaySource.country_code} </h4>\r\n           <h4>{todaySource.data[0].weather.description}</h4>\r\n           </span>\r\n           <img\r\n        src={iconUrl + todaySource.data[0].weather.icon + \".png\"}\r\n        className=\"main-icon\" alt=\"source data icon\"\r\n      />\r\n \r\n        </div>\r\n\r\n     \r\n  \r\n      {/* DATA TODAY */}\r\n      <hr></hr>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\ntype props = {\r\n  handleSubmit: (requestCity: string) => void\r\n}\r\n\r\nexport default function ChangeCityFormComponent({handleSubmit}: props) {\r\n\r\n  const [inputHandler, setInputHandler] = useState(\"\");\r\n\r\n  return (\r\n    <>\r\n        <input type=\"text\" onChange={(e) => setInputHandler(e.target.value)} />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-city\"\r\n          onClick={() => {\r\n            handleSubmit(inputHandler);\r\n          }}\r\n        title=\"Look for the weather in the writed location\">\r\n          {\" \"}\r\n          <i className=\"fas fa-search-location fa-2x icon\"></i>\r\n        </button>\r\n  </>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nconst logoUrl = process.env.REACT_APP_logoURL;\r\n\r\nexport default function Header() {\r\n    return (\r\n        <div className=\"header\"> \r\n        <p className=\"title\">La memeteo</p>\r\n          <img src={logoUrl} className=\"logo\" alt=\"Memeteo logo\"/>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\ntype geoProps = {\r\n    action:  ()=> void \r\n}\r\n\r\nexport default function Geoloc({action}: geoProps) {\r\n    return (\r\n              <button className=\"btn-city\" title=\"Use your geolocalization coords\" onClick={ ()=> action() }> \r\n              <i className=\"fas fa-map-marked-alt fa-2x icon\"></i> </button>\r\n    )\r\n}\r\n","import \"./App.css\";\r\nimport {useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport DailyWeather from \"./components/DailyWeather\";\r\nimport CurrentWeather from \"./components/CurrentWeather\";\r\nimport ChangeCityFormComponent from \"./components/ChangeCityFormComponent\"\r\nimport Header from \"./components/Header\"\r\nimport Geoloc from \"./components/Geoloc\"\r\n\r\nconst apikey = process.env.REACT_APP_apiKey;\r\n\r\nfunction App() {\r\n  const [weather, setWeather] = useState({\r\n    data: {\r\n      city_name: \"\",\r\n      country_code: \"\",\r\n      data: [{ temp: \"\", weather: { description: \"\", icon: \"\" } }],\r\n    },\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadGeoloc, setloadGeoloc] = useState(true);\r\n  const [coords, setCoords] = useState({lat: 0, lon: 0})\r\n  const [city, setCity] = useState(\"Paris\")\r\n\r\n  // par lat et lon\r\n  const coordUrl = `https://api.weatherbit.io/v2.0/forecast/daily?lat=${coords['lat']}&lon=${coords['lon']}&key=${apikey}&days=5`\r\n  \r\n  \r\n  // par name\r\n  const cityRequestUrl =\r\n    `https://api.weatherbit.io/v2.0/forecast/daily?city=${city}&days=5&key=${apikey}`;\r\n\r\nasync function handleGeolocation() {\r\n      navigator.geolocation.getCurrentPosition((data)=> {\r\n       setCoords({lat: data.coords.latitude, lon: data.coords.longitude})\r\n     })    \r\n     setloadGeoloc(false)  \r\n} \r\n\r\n\r\nasync function getData(mode: string) {\r\n      let queryUrl\r\n      mode === \"city\"? queryUrl = cityRequestUrl : queryUrl =  coordUrl\r\n        const response = await axios.get(queryUrl);\r\n        /* Quick catch if the user input its not a city  */ \r\n        if (response.status === 200) {\r\n          setWeather(response);\r\n          setLoading(false);\r\n        } else {\r\n          alert(\"The city that has been submited couldn't be found \")\r\n        }\r\n}\r\n\r\n\r\nif (loadGeoloc) {\r\n    handleGeolocation()\r\n    console.log(coords)\r\n    getData(\"coord\")\r\n}\r\n\r\nif (loading) {\r\n  getData(\"city\");\r\n}\r\n\r\n// -------- CHANGE CITY MANUALLY -------- // \r\nconst handleCityChange = (requestCity: string) => {\r\n  console.log(city)\r\n  if (city !== \"\") { \r\n    setCity(requestCity)\r\n    setLoading(true)\r\n    getData(\"city\")\r\n     } else {\r\n        alert(\"City name cannot be empty\")\r\n     }\r\n\r\n   }\r\n  \r\n  // ----- GEOLOCATION ----------- //\r\n   const handleGeoRequest = () => {\r\n     setloadGeoloc(true)\r\n   }\r\n\r\n return (\r\n    <>\r\n    <div className=\"App\">\r\n      <Header/>\r\n      \r\n        {!loading && <CurrentWeather todaySource={weather.data} />}\r\n\r\n        {/* 5 Next days */}\r\n        \r\n        <main className=\"next-days\">\r\n          <DailyWeather source={0} />\r\n            {!loading && weather.data.data.map(distData => <DailyWeather source={distData} /> )}\r\n      </main>\r\n    </div>\r\n\r\n      {/* Change City  Component */}\r\n      <section id=\"changecity-fc\">\r\n\r\n      <ChangeCityFormComponent handleSubmit={handleCityChange} />\r\n      \r\n        {/* Geolocation Component */}\r\n        <Geoloc action={handleGeoRequest} />\r\n\r\n      </section>\r\n    </>\r\n  );\r\n  }\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}